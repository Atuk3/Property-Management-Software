{% extends "dashboard.html" %}

{% block content %}
<div class="main-content">
    <h2>Bookings</h2>

    <form method="POST" class="mb-4">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.guest_id.label(class="form-label") }}
            {{ form.guest_id(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.room_id.label(class="form-label") }}
            {{ form.room_id(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.check_in_date.label(class="form-label") }}
            {{ form.check_in_date(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.check_out_date.label(class="form-label") }}
            {{ form.check_out_date(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.number_of_rooms.label(class="form-label") }}
            {{ form.number_of_rooms(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.submit(class="btn btn-primary") }}
        </div>
    </form>

    <h3>Current Bookings</h3>
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Booking ID</th>
                <th>Guest</th>
                <th>Room</th>
                <th>Check-In Date</th>
                <th>Check-Out Date</th>
                <th>Status</th>
                <th>Total Amount</th>
                <th>Booking Date</th>
            </tr>
        </thead>
        <tbody>
            {% for booking in bookings %}
            <tr>
                <td>{{ booking.id }}</td>
                <td>{{ booking.guest.first_name }} {{ booking.guest.last_name }}</td>
                <td>Room {{ booking.room.room_number }}</td>
                <td>{{ booking.check_in_date }}</td>
                <td>{{ booking.check_out_date }}</td>
                <td>{{ booking.status }}</td>
                <td>{{ booking.total_amount }}</td>
                <td>{{ booking.booking_date }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}